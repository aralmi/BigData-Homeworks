# Домашнее задание 1: Spark RDD API

## Описание

Расчет расстояний между заведениями общепита в Москве используя **формулу гаверсинуса** (Haversine formula) - стандартный способ вычисления расстояния между двумя точками на сфере (Земле).

## Данные

- **Источник:** places.csv
- **Количество заведений:** 768
- **Столбцы:** Name, Longitude_WGS84, Latitude_WGS84
- **Целевая точка:** Красная площадь (55.751244°N, 37.618423°E)

## Задачи

| № | Задача | Результат |
|---|--------|-----------|
| 1 | Расстояния от Красной площади | Первые 10 ближайших |
| 2 | Расстояния между всеми парами | Картезианское произведение |
| 3 | Топ-10 близких/отдалённых | Минимум и максимум |

## Ключевые результаты

```
Всего заведений: 768

ТОП-5 БЛИЖАЙШИХ:
1. Мареа              1.06 км
2. Стейк Хаус Бизон  1.06 км
3. ЛяМур             1.07 км
4. БИБЛИОТЕКА Shisha 1.07 км
5. Му-Му             1.07 км

ТОП-5 САМЫХ ОТДАЛЁННЫХ:
1. МНИТИ              6.43 км
2. Школа 414         6.29 км
3. Византия          6.13 км
4. Школа 435         6.09 км
5. Мята Lounge       6.04 км

Статистика:
- Минимум: 1.06 км
- Максимум: 6.43 км
- Среднее: 2.75 км
- Диапазон: 5.37 км
```

## Технологии

- **PySpark RDD** - распределённая обработка
- **Haversine Formula** - сферическая геометрия
- **Lambda функции** - функциональное программирование

## Как работает Haversine

Формула вычисляет кратчайшее расстояние между двумя точками на сфере:

```
a = sin²(Δφ/2) + cos(φ1) · cos(φ2) · sin²(Δλ/2)
c = 2 · atan2( √a, √(1−a) )
d = R · c
```

Где:
- φ = широта (latitude)
- λ = долгота (longitude)
- R = 6371 км (радиус Земли)
- Δ = разница между координатами

## Сложность

- **Задача 1-2:** O(n) - линейно от числа заведений
- **Задача 3:** O(n²) - все пары (картезианское произведение)
- **Вычисления:** До 295,000 пар для 768 заведений


